<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:c="http://www.springframework.org/schema/c"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context.xsd">

    <context:property-placeholder location="classpath:properties.properties"/>

    <bean class="facade.impl.BookingFacadeImpl" id="bookingFacade" c:_0-ref="eventService" c:_1-ref="userService"
          c:_2-ref="ticketService"/>

    <bean class="service.impl.TicketServiceImpl" id="ticketService" p:ticketDao-ref="ticketDao"/>

    <bean class="dao.impl.TicketDaoImpl" id="ticketDao" p:storage-ref="storage"/>

    <bean class="service.impl.UserServiceImpl" id="userService" p:userDao-ref="userDao"/>

    <bean class="dao.impl.UserDaoImpl" id="userDao" p:storage-ref="storage"/>

    <bean class="service.impl.EventServiceImpl" id="eventService" p:eventDao-ref="eventDao"/>

    <bean class="dao.impl.EventDaoImpl" id="eventDao" p:storage-ref="storage"/>

    <bean class="postProcessor.StoragePostProcessor" c:_0-ref="eventsJsonParser" c:_1-ref="usersJsonParser"
          c:_2-ref="ticketsJsonParser"/>

    <bean class="postProcessor.parser.impl.EventsStorageJsonFiller" id="eventsJsonParser" c:_0-ref="storage"
          c:_1="${file.eventsFilePath}"/>

    <bean class="postProcessor.parser.impl.TicketsStorageJsonFiller" id="ticketsJsonParser" c:_0-ref="storage"
          c:_1="${file.ticketsFilePath}"/>

    <bean class="postProcessor.parser.impl.UsersStorageJsonFiller" id="usersJsonParser" c:_0-ref="storage"
          c:_1="${file.usersFilePath}"/>

    <bean id="storage" class="storage.impl.StorageImpl"/>
</beans>